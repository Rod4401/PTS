{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction JeuComponent_div_1_img_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 13);\n  }\n\n  if (rf & 2) {\n    const jeu_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate2(\"src\", \"http://media.steampowered.com/steamcommunity/public/images/apps/\", jeu_r3.appid, \"/\", jeu_r3.img_icon_url, \".jpg\", i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction JeuComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵelement(3, \"div\");\n    i0.ɵɵelement(4, \"div\");\n    i0.ɵɵelement(5, \"div\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵelement(7, \"div\");\n    i0.ɵɵelement(8, \"div\");\n    i0.ɵɵelement(9, \"div\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function JeuComponent_div_1_Template_a_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const jeu_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.afficherCarteJeu(jeu_r3);\n    });\n    i0.ɵɵelementStart(11, \"span\", 8);\n    i0.ɵɵtemplate(12, JeuComponent_div_1_img_12_Template, 1, 2, \"img\", 9);\n    i0.ɵɵelementStart(13, \"span\", 10);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(15, \"svg\", 11);\n    i0.ɵɵelement(16, \"path\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const jeu_r3 = ctx.$implicit;\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngIf\", jeu_r3.img_icon_url);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(jeu_r3.name);\n  }\n}\n\nfunction JeuComponent_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵelementStart(3, \"div\", 6);\n    i0.ɵɵelement(4, \"div\");\n    i0.ɵɵelement(5, \"div\");\n    i0.ɵɵelement(6, \"div\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 6);\n    i0.ɵɵelement(8, \"div\");\n    i0.ɵɵelement(9, \"div\");\n    i0.ɵɵelement(10, \"div\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function JeuComponent_div_2_div_2_Template_a_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const jeu_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.afficherCarteJeu(jeu_r9);\n    });\n    i0.ɵɵelementStart(12, \"span\", 8);\n    i0.ɵɵelement(13, \"img\", 13);\n    i0.ɵɵelementStart(14, \"span\", 10);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(16, \"svg\", 11);\n    i0.ɵɵelement(17, \"path\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const jeu_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(ctx_r8.posPlus[1]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r8.posPlus[2]);\n    i0.ɵɵadvance(12);\n    i0.ɵɵpropertyInterpolate2(\"src\", \"http://media.steampowered.com/steamcommunity/public/images/apps/\", jeu_r9.appid, \"/\", jeu_r9.img_icon_url, \".jpg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(jeu_r9.name);\n  }\n}\n\nfunction JeuComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵtemplate(2, JeuComponent_div_2_div_2_Template, 18, 9, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r1.posPlus[0]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.listJeuPlus);\n  }\n}\n\nfunction JeuComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"div\", 18);\n    i0.ɵɵelementStart(2, \"div\", 19);\n    i0.ɵɵelementStart(3, \"div\", 20);\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 21);\n    i0.ɵɵelementStart(7, \"div\", 22);\n    i0.ɵɵelementStart(8, \"span\", 23);\n    i0.ɵɵlistener(\"click\", function JeuComponent_div_3_Template_span_click_8_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.masquerCarteJeu();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 24);\n    i0.ɵɵelementStart(10, \"h3\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"h3\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.jeuSelected.name);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Id : \", ctx_r2.jeuSelected.appid, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Temps total : \", (ctx_r2.jeuSelected.playtime_forever / 60).toFixed(2), \" heures\");\n  }\n}\n\nexport let JeuComponent = /*#__PURE__*/(() => {\n  class JeuComponent {\n    constructor(http) {\n      this.http = http;\n      this.listJeu = [];\n      this.listJeuPrincipal = [];\n      this.listJeuPlus = [];\n      this.debordement = false;\n      this.nbColonnes = \"\";\n      this.customHtml = \"\";\n      this.posPlus = []; //Pour l'affichage d'une carte de jeu\n\n      this.jeuSelected = null;\n      this.affichageCarte = false;\n      this.steamId = \"\";\n    }\n\n    afficherCarteJeu(jeu) {\n      //Si on affiche déjà un jeu on ne fait rien\n      if (this.affichageCarte) return;\n      this.jeuSelected = jeu;\n      this.affichageCarte = true;\n    }\n\n    masquerCarteJeu() {\n      this.affichageCarte = false;\n      this.jeuSelected = null;\n    }\n\n    getAllGames() {\n      this.http.get(`http://localhost:3080/gameList/${this.steamId}`).pipe(map(value => {\n        return value;\n      })).subscribe(res => {\n        this.chargerJeux(res.response.games);\n      });\n    }\n\n    getAllRecentsGames() {\n      this.http.get(`http://localhost:3080/recentGames/${this.steamId}`).pipe(map(value => {\n        return value;\n      })).subscribe(res => {\n        this.chargerJeux(res.response.games);\n      });\n    }\n\n    ngOnInit() {\n      this.getAllGames();\n    }\n\n    chargerJeux(liste) {\n      try {\n        this.listJeu = liste;\n        this.construireListes(this.listJeu);\n      } catch (error) {\n        console.log(\"Aucun jeu trouvé\");\n      }\n    }\n\n    trierListe(typeTri = \"nameCroissant\", name = \"\") {\n      let listJeuBuff = this.listJeu.map(x => Object.assign({}, x)); //Maintenant on tri les jeux\n\n      switch (typeTri) {\n        case \"nameCroissant\":\n          listJeuBuff.sort(function (a, b) {\n            return a.name.localeCompare(b.name);\n          });\n          break;\n\n        case \"nameDecroissant\":\n          listJeuBuff.sort(function (a, b) {\n            return b.name.localeCompare(a.name);\n          });\n          break;\n\n        case \"tpsJeuCroissant\":\n          listJeuBuff.sort(function (a, b) {\n            return a.playtime_forever - b.playtime_forever;\n          });\n          break;\n\n        case \"tpsJeuDecroissant\":\n          listJeuBuff.sort(function (a, b) {\n            return b.playtime_forever - a.playtime_forever;\n          });\n          break;\n\n        case \"appIDCroissant\":\n          listJeuBuff.sort(function (a, b) {\n            return a.appid - b.appid;\n          });\n          break;\n\n        case \"appIDDecroissant\":\n          listJeuBuff.sort(function (a, b) {\n            return b.appid - a.appid;\n          });\n          break;\n      }\n\n      this.rechercher(name, listJeuBuff);\n    }\n\n    rechercher(nom = \"\", listJeu = []) {\n      let listJeuBuff = [];\n\n      if (nom != \"\") {\n        nom = nom.toUpperCase();\n\n        for (let jeu of listJeu) {\n          if (jeu.name.toUpperCase().includes(nom)) listJeuBuff.push(jeu);\n        }\n      } else {\n        listJeuBuff = listJeu;\n      }\n\n      this.construireListes(listJeuBuff);\n    }\n\n    construireListes(liste) {\n      this.listJeuPrincipal = [];\n      this.listJeuPlus = [];\n      var longueurFinale = 0;\n\n      for (longueurFinale = liste.length; longueurFinale % 6 != 0; longueurFinale--);\n\n      var i = 0;\n\n      for (i = 0; i < longueurFinale; i++) {\n        this.listJeuPrincipal.push(liste[i]);\n      }\n\n      for (i; i < liste.length; i++) {\n        this.listJeuPlus.push(liste[i]);\n      }\n\n      if (this.listJeuPlus.length != 0) this.debordement = true;else this.debordement = false;\n      this.posPlus[1] = \"\";\n\n      switch (this.listJeuPlus.length) {\n        case 1:\n          this.posPlus[0] = \"col-lg-offset-2 pt-5\";\n          this.posPlus[2] = \"col-lg-offset-4 col-lg-2\";\n          break;\n\n        case 2:\n          this.posPlus[0] = \"col-lg-offset-2 pt-5\";\n          this.posPlus[2] = \"col-lg-offset-1 col-lg-5\";\n          break;\n\n        case 3:\n          this.posPlus[0] = \"col-lg-offset-2 pt-5\";\n          this.posPlus[2] = \"col-lg-offset col-lg-4\";\n          break;\n\n        case 4:\n          this.posPlus[0] = \"pt-5\";\n          this.posPlus[1] = \"col-lg-3 pt-5\";\n          this.posPlus[2] = \"col-lg-offset-3 col-lg-6\";\n          break;\n\n        case 5:\n          this.posPlus[0] = \"col-lg-offset-1 pt-5\";\n          this.posPlus[1] = \"col-lg-2 pt-5\";\n          this.posPlus[2] = \"col-lg-3\";\n          break;\n      }\n    }\n\n  }\n\n  JeuComponent.ɵfac = function JeuComponent_Factory(t) {\n    return new (t || JeuComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  JeuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: JeuComponent,\n    selectors: [[\"app-jeu\"]],\n    inputs: {\n      steamId: \"steamId\"\n    },\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"noPadding\", \"jeu\", \"col-lg-12\"], [\"class\", \"noPadding col-lg-2 pt-5\", \"id\", \"hexagon\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"pt-5 col-lg-12\", 4, \"ngIf\"], [\"class\", \"container-fluid carteInfos\", 4, \"ngIf\"], [\"id\", \"hexagon\", 1, \"noPadding\", \"col-lg-2\", \"pt-5\"], [1, \"hexagon-item\"], [1, \"hex-item\"], [1, \"hex-content\", 3, \"click\"], [1, \"hex-content-inner\"], [\"class\", \"fit-picture\", \"alt\", \"img\", 3, \"src\", 4, \"ngIf\"], [1, \"title\"], [\"viewbox\", \"0 0 173.20508075688772 200\", \"height\", \"200\", \"width\", \"174\", \"version\", \"1.1\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M86.60254037844386 0L173.20508075688772 50L173.20508075688772 150L86.60254037844386 200L0 150L0 50Z\", \"fill\", \"#1e2530\"], [\"alt\", \"img\", 1, \"fit-picture\", 3, \"src\"], [1, \"pt-5\", \"col-lg-12\"], [\"id\", \"hexagon\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [1, \"container-fluid\", \"carteInfos\"], [1, \"carteInfos1\", \"col-lg-4\", \"col-lg-offset-4\"], [1, \"footer\"], [1, \"name\", \"col-lg-8\"], [1, \"col-lg-4\"], [1, \"col-lg-4\", \"col-lg-offset-8\"], [1, \"glyphicon\", \"glyphicon-remove\", 3, \"click\"], [\"id\", \"corps\", 1, \"pt-3\"]],\n    template: function JeuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, JeuComponent_div_1_Template, 17, 2, \"div\", 1);\n        i0.ɵɵtemplate(2, JeuComponent_div_2_Template, 3, 4, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, JeuComponent_div_3_Template, 14, 3, \"div\", 3);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listJeuPrincipal);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.debordement);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.affichageCarte);\n      }\n    },\n    directives: [i2.NgForOf, i2.NgIf],\n    styles: [\".carteInfos[_ngcontent-%COMP%]{position:absolute;z-index:100;width:100%;padding-top:-10%}.carteInfos1[_ngcontent-%COMP%]{margin-top:-10%;height:80%;position:fixed;background-color:#1e2530}.jeu[_ngcontent-%COMP%]{z-index:1}.glyphicon[_ngcontent-%COMP%]{font-size:50px}.footer[_ngcontent-%COMP%]{height:15%;padding-left:0;margin-top:10px}.name[_ngcontent-%COMP%]{padding-left:0}.noPadding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}\"]\n  });\n  return JeuComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}